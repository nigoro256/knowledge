= シェル系のメモ


== stringsの行頭にファイル名を付ける
`strings --print-file-name` +
※macはできない (オプションがない)


== QuickTimeでキャプチャした.movを.mp4に変換
`ffmpeg -i test.mov -vcodec copy test.mp4`


== mac拡張属性を消す
``ls``すると表示される``@``の事。 +
これが付いているファイルをアーカイブするとメタファイルが一緒に入るので消したい。

`xattr -c file ...`


== Git: ローカルブランチを origin の最新で更新したいけれど checkout したくない場合
[source, sh]
----
git fetch
git push . origin/master:master
----

`git push $remote $local_branch:$remote_branch` +
「``$remote``リポジトリの``$remote_branch``ブランチを自分のリポジトリの``$local_branch``で更新する」


== 一時ファイルを作成
[source, sh]
----
readonly tmpfile=$(mktemp)

function rm_tmpfile() {
  [[ -f "$tmpfile" ]] && rm -f "$tmpfile"
}
trap rm_tmpfile EXIT
trap 'trap - EXIT; rm_tmpfile; exit -1' INT PIPE TERM
----


== git log で現在から特定コミットまでを表示する
[source, sh]
----
git log "HEAD...$COMMIT_ID"
----

http://tech.aainc.co.jp/archives/6740[GitのHEAD^ HEAD~やらダブルドット トリプルドットやら]
